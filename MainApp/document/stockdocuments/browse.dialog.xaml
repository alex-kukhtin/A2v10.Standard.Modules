<Dialog xmlns="clr-namespace:A2v10.Xaml;assembly=A2v10.Xaml" Title="@[Documents.Browse]" Width="65rem" Overflow="True">
	<Dialog.Buttons>
		<Button Style="Primary" Command="{BindCmd Select, Argument={Bind Parent.ItemsSource}}" Content="@[Select]" />
		<Button Command="{BindCmd Close}" Content="@[Cancel]" />
	</Dialog.Buttons>
	<Dialog.CollectionView>
		<CollectionView ItemsSource="{Bind Documents}" RunAt="Server">
			<CollectionView.Filter>
				<FilterDescription>
					<FilterItem Property="Fragment" />
				</FilterDescription>
			</CollectionView.Filter>
		</CollectionView>
	</Dialog.CollectionView>
	<Grid Rows="Auto, 1*, Auto" Columns="1*">
		<Toolbar>
			<Button Icon="Plus" Command="{BindCmd Open, Url='/document/stockdocuments/edit', Argument='new'}" Content="@[Create]" />
			<Button Icon="Edit" Command="{BindCmd OpenSelected, Url={Bind Operation.Url}, Argument={Bind Parent.ItemsSource}}" />
			<Separator />
			<Button Icon="Reload" Command="{BindCmd Reload}" />
			<ToolbarAligner />
			<SearchBox Placeholder="@[Search]" Value="{Bind Parent.Filter.Fragment}" TabIndex="1" Width="20rem" />
		</Toolbar>
		<DataGrid Sort="True" FixedHeader="True" ItemsSource="{Bind Parent.ItemsSource}" DoubleClick="{BindCmd Select, Argument={Bind Parent.ItemsSource}}" Height="30rem" Grid.Row="2">
			<DataGridColumn Content="{Bind Id}" Header="@[Id]" Role="Id" />
			<DataGridColumn Content="{Bind Done}" Header="@[Done]" Role="CheckBox" />
			<DataGridColumn Content="{Bind Date, DataType=Date}" Header="@[Date]" Role="Date" />
			<DataGridColumn Content="{Bind Number}" Header="@[Number]" Fit="True" Wrap="NoWrap" />
			<DataGridColumn Content="{Bind Operation.Name}" Header="@[Operation]" SortProperty="Operation" />
			<DataGridColumn Content="{Bind Name}" Header="@[Name]" />
			<DataGridColumn Content="{BindSum Sum}" Header="@[Sum]" Role="Number" />
			<DataGridColumn Content="{Bind Memo}" Header="@[Memo]" LineClamp="2" />
			<DataGridColumn Content="{Bind Agent.Name}" Header="@[Agent]" SortProperty="Agent" />
			<DataGridColumn Content="{Bind StoreFrom.Name}" Header="@[StoreFrom]" SortProperty="StoreFrom" />
			<DataGridColumn Content="{Bind StoreTo.Name}" Header="@[StoreTo]" SortProperty="StoreTo" />
		</DataGrid>
		<Pager Source="{Bind Parent.Pager}" Grid.Row="3" />
	</Grid>
</Dialog>